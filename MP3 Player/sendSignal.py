import numpy as np

import serial

import time

waitTime = 0.1

info=np.array([[
    261, 261, 392, 392, 440, 440, 392,

    349, 349, 330, 330, 294, 294, 261,

    392, 392, 349, 349, 330, 330, 294,

    392, 392, 349, 349, 330, 330, 294,

    261, 261, 392, 392, 440, 440, 392,

    349, 349, 330, 330, 294, 294, 261,

    0, 0, 0, 0, 0, 0, 0],
    [
    392, 329, 329, 349, 293, 293, 261,

    293, 329, 349, 392, 392, 392, 392,
    
    329, 329, 349, 293, 293, 261, 329,
    
    392, 392, 329,
    
    293, 293, 293, 293, 293, 329, 349,
    
    329, 329, 329, 329, 329, 349, 392,
    
    392, 329, 329, 349, 293, 293, 261, 
    
    329, 392, 392, 261        
    ],
    [
    261, 293, 329, 261, 261, 293, 329,

    261, 329, 349, 392, 329, 349, 392,

    392, 440, 392, 349, 329, 261 ,392,
    
    440, 392, 349, 329, 261, 293, 196,

    261, 293, 196, 261, 0, 0, 0,

    0, 0, 0, 0, 0, 0, 0,

    0, 0, 0, 0, 0, 0, 0, 
    ],
    [[1, 1, 1, 1, 1, 1, 2,

    1, 1, 1, 1, 1, 1, 2,

    1, 1, 1, 1, 1, 1, 2,

    1, 1, 1, 1, 1, 1, 2,

    1, 1, 1, 1, 1, 1, 2,

    1, 1, 1, 1, 1, 1, 2,

    1, 1, 1, 1, 1, 1, 1],
    [ 1, 1, 1, 1, 1, 1, 1,

    1, 1, 1, 1, 1, 1, 1,

    1, 1, 1, 1, 1, 1, 1,

    1, 1, 3, 
  
    1, 1, 1, 1, 1, 1, 1,
  
    1, 1, 1, 1, 1, 1, 1, 
  
    1, 1, 1, 1, 1, 1, 1,

    1, 1, 1, 3  ],
    [1, 1, 1, 1, 1, 1, 1,

    1, 1, 1, 1, 1, 1, 1,

    1, 1, 1, 1, 1, 1, 1,

    1, 1, 1, 1, 1, 1, 1,

    1, 1, 1, 1, 1, 1, 1,

    1, 1, 1, 1, 1, 1, 1,

    1, 1, 1, 1, 1, 1, 1]
    
    ]
])
notes=np.array()
N=49
# output formatter
info=np.reshape(info,6*N)
formatter = lambda x: "%.3f" % x
# send the waveform table to K66F

serdev = '/dev/ttyACM0'

s = serial.Serial(serdev)

print("Sending signal ...")

for data in info:

  s.write(bytes(formatter(data), 'UTF-8'))

  time.sleep(waitTime)
s.close()

print("Signal sended")
